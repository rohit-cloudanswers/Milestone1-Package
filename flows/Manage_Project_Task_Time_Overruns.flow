<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Debug_Stamp</name>
        <label>Debug Stamp</label>
        <locationX>306</locationX>
        <locationY>980</locationY>
        <assignmentItems>
            <assignToReference>$Record.Debug__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>DebugMsg</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Decision_Path</name>
        <label>Decision Path</label>
        <locationX>964</locationX>
        <locationY>640</locationY>
        <assignmentItems>
            <assignToReference>$Record.Flow_Decision_Path__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>No Overrun</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Billable_Field</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Decision_Path_0</name>
        <label>Decision Path</label>
        <locationX>711</locationX>
        <locationY>824</locationY>
        <assignmentItems>
            <assignToReference>$Record.Flow_Decision_Path__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Overrun with this Entry</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Overrun_and_Billable</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Decision_Path_0_0</name>
        <label>Decision Path</label>
        <locationX>235</locationX>
        <locationY>732</locationY>
        <assignmentItems>
            <assignToReference>$Record.Flow_Decision_Path__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Already Overrun</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Debug_Stamp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>forFlowYes</name>
        <label>forFlowYes!</label>
        <locationX>654</locationX>
        <locationY>84</locationY>
        <assignmentItems>
            <assignToReference>$Record.forFlow__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>newDebug</name>
        <label>newDebug</label>
        <locationX>319</locationX>
        <locationY>391</locationY>
        <assignmentItems>
            <assignToReference>$Record.Debug__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>We made it in!</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>checkForFlow</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Billable_Field</name>
        <label>Set Billable Field</label>
        <locationX>977</locationX>
        <locationY>850</locationY>
        <assignmentItems>
            <assignToReference>$Record.Billable_Hours__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.MPM4_BASE__Hours__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Billable__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Overrun_Hrs__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Debug_Stamp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Overrun_and_Billable</name>
        <label>Set Overrun and Billable</label>
        <locationX>517</locationX>
        <locationY>811</locationY>
        <assignmentItems>
            <assignToReference>$Record.Billable_Hours__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>returnBillableHours</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Overrun_Hrs__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>returnOverrunHours</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Debug_Stamp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Overrun_Hrs_Field</name>
        <label>Set Overrun Hrs Field</label>
        <locationX>345</locationX>
        <locationY>636</locationY>
        <assignmentItems>
            <assignToReference>$Record.Overrun_Hrs__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.MPM4_BASE__Hours__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Billable__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Billable_Hours__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_Path_0_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_some_debug_values</name>
        <label>Set some debug values</label>
        <locationX>857</locationX>
        <locationY>360</locationY>
        <assignmentItems>
            <assignToReference>$Record.Task_Estimated_Hours__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Project_Task.MPM4_BASE__Estimated_Hours__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Task_Hours_Balance__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Project_Task.MPM4_BASE__Hours_Balance__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Task_Total_Hours__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Project_Task.MPM4_BASE__Total_Hours__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.Task_Hours_Exceeds_Estimate_Checkbox__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Project_Task.Hours_Exceeds_Estimate__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decisions_to_Avoid_Error_Conditions</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Check_our_Overrun_Status</name>
        <label>Check our Overrun Status</label>
        <locationX>604</locationX>
        <locationY>648</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Already_Overrun</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Project_Task.Hours_Exceeds_Estimate__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Overrun_Hrs_Field</targetReference>
            </connector>
            <label>Already Overrun</label>
        </rules>
        <rules>
            <name>Overrun_with_this_Entry</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Project_Task.MPM4_BASE__Hours_Balance__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>$Record.MPM4_BASE__Hours__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Project_Task.MPM4_BASE__Estimated_Hours__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Decision_Path_0</targetReference>
            </connector>
            <label>Overrun with this Entry</label>
        </rules>
        <rules>
            <name>No_Overrun</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Project_Task.Hours_Exceeds_Estimate__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Decision_Path</targetReference>
            </connector>
            <label>No Overrun</label>
        </rules>
    </decisions>
    <decisions>
        <name>checkForFlow</name>
        <label>checkForFlow</label>
        <locationX>350</locationX>
        <locationY>50</locationY>
        <defaultConnector>
            <targetReference>forFlowYes</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>forFlow_No</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.forFlow__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_this_Project_Time</targetReference>
            </connector>
            <label>forFlow No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Decisions_to_Avoid_Error_Conditions</name>
        <label>Decisions to Avoid Error Conditions</label>
        <locationX>600</locationX>
        <locationY>469</locationY>
        <defaultConnector>
            <targetReference>Check_our_Overrun_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>X0_Estimated_Hours</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Project_Task.MPM4_BASE__Estimated_Hours__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Overrun_Hrs_Field</targetReference>
            </connector>
            <label>0 Estimated Hours</label>
        </rules>
        <rules>
            <name>No_Estimated_Hours</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_Project_Task.MPM4_BASE__Estimated_Hours__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Decision_Path</targetReference>
            </connector>
            <label>No Estimated Hours</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_this_Project_Time</name>
        <label>Is this Project Time?</label>
        <locationX>405</locationX>
        <locationY>204</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Project_Time</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.MPM4_BASE__Project_Task__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Project_Task</targetReference>
            </connector>
            <label>Yes Project Time</label>
        </rules>
        <rules>
            <name>No_Other_Time</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.MPM4_BASE__Project_Task__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>No Other Time</label>
        </rules>
    </decisions>
    <formulas>
        <name>returnBillableHours</name>
        <dataType>Number</dataType>
        <expression>{!$Record.MPM4_BASE__Hours__c} - {!returnOverrunHours}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>returnOverrunHours</name>
        <dataType>Number</dataType>
        <expression>{!$Record.MPM4_BASE__Hours__c} - {!Get_Project_Task.MPM4_BASE__Hours_Balance__c}</expression>
        <scale>2</scale>
    </formulas>
    <interviewLabel>Manage Project Task Time Overruns {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Manage Project Task Time Overruns</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Project_Task</name>
        <label>Get Project Task</label>
        <locationX>694</locationX>
        <locationY>327</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_some_debug_values</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.MPM4_BASE__Project_Task__c</elementReference>
            </value>
        </filters>
        <object>MPM4_BASE__Milestone1_Task__c</object>
    </recordLookups>
    <startElementReference>newDebug</startElementReference>
    <status>Active</status>
    <textTemplates>
        <name>DebugMsg</name>
        <text>Overrun Hrs: {!$Record.Overrun_Hrs__c}, Billable Hrs: {!$Record.Billable_Hours__c}</text>
    </textTemplates>
</Flow>
