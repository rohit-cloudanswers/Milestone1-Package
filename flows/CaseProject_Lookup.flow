<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Assign_0_Revenue</name>
        <label>Assign 0 Revenue</label>
        <locationX>1187</locationX>
        <locationY>622</locationY>
        <assignmentItems>
            <assignToReference>CasesLoop.Associated_Project_Revenue__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ProjectValue</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CaseRecord.REV_for_Flow__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FormulaCalculatedREV</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CasesLoop.Weighting_Last_Updated_By__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>GetUser</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CasesLoop.Weighting_Last_Updated_Process__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Project</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CasesLoop.Weighting_Last_Updated__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_to_Update_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Revenue</name>
        <label>Assign Revenue</label>
        <locationX>1053</locationX>
        <locationY>721</locationY>
        <assignmentItems>
            <assignToReference>CasesLoop.Associated_Project_Revenue__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ProjectValue</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CasesLoop.REV_for_Flow__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FormulaCalculatedREV</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CasesLoop.Weighting_Last_Updated_By__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>GetUser</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CasesLoop.Weighting_Last_Updated_Process__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Project</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CasesLoop.Weighting_Last_Updated__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_to_Update_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_to_Update_Collection</name>
        <label>Assign to Update Collection</label>
        <locationX>903</locationX>
        <locationY>625</locationY>
        <assignmentItems>
            <assignToReference>CasesToUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>CasesLoop</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Look_in_Case_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Capture_Project_Value</name>
        <label>Capture Project Value</label>
        <locationX>545</locationX>
        <locationY>430</locationY>
        <assignmentItems>
            <assignToReference>ProjectValue</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ProjectRecord.Total_Open_Revenue__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RevenueToSet</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ProjectRecord.Total_Open_Revenue__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ClosedProject</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_all_the_Cases</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Capture_Revenue</name>
        <label>Capture Revenue</label>
        <locationX>1053</locationX>
        <locationY>31</locationY>
        <assignmentItems>
            <assignToReference>RevenueToSet</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>LoopProjects.Open_Project_Revenue__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Status_and_Update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Revenue_to_Set</name>
        <label>Revenue to Set</label>
        <locationX>1379</locationX>
        <locationY>215</locationY>
        <assignmentItems>
            <assignToReference>RevenueToSet</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Status_and_Update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Rev_Req_Status_to_True</name>
        <label>Set Rev Req Status to True</label>
        <locationX>1136</locationX>
        <locationY>126</locationY>
        <assignmentItems>
            <assignToReference>RevReqStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Capture_Revenue</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_revenue_to_0_if_closed</name>
        <label>Set revenue to 0 if closed</label>
        <locationX>398</locationX>
        <locationY>558</locationY>
        <assignmentItems>
            <assignToReference>ProjectValue</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RevenueToSet</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ClosedProject</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RevReqStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_all_the_Cases</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Zero_out_revenue_no_project</name>
        <label>Zero out revenue no project</label>
        <locationX>686</locationX>
        <locationY>115</locationY>
        <assignmentItems>
            <assignToReference>RevenueToSet</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_with_Revenue</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Case_or_Project_Calling</name>
        <label>Case or Project Calling?</label>
        <locationX>390</locationX>
        <locationY>26</locationY>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CaseID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_Case</targetReference>
            </connector>
            <label>Case</label>
        </rules>
        <rules>
            <name>Project</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ProjectID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Find_Project</targetReference>
            </connector>
            <label>Project</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Project_Status</name>
        <label>Check Project Status</label>
        <locationX>1377</locationX>
        <locationY>31</locationY>
        <defaultConnector>
            <targetReference>Is_Rev_Req_Set</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Project_Closed_Cancelled</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>LoopProjects.Project_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LoopProjects.Project_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancelled</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Revenue_to_Set</targetReference>
            </connector>
            <label>Project Closed/Cancelled</label>
        </rules>
    </decisions>
    <decisions>
        <name>Closed_Case</name>
        <label>Closed Case?</label>
        <locationX>903</locationX>
        <locationY>523</locationY>
        <defaultConnector>
            <targetReference>Did_REV_change</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Yes_Closed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>CasesLoop.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>CasesLoop.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancelled</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Look_in_Case_Collection</targetReference>
            </connector>
            <label>Yes Closed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Did_REV_change</name>
        <label>Set new REV or no?</label>
        <locationX>1049</locationX>
        <locationY>523</locationY>
        <defaultConnector>
            <targetReference>Look_in_Case_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Closed_Project</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ClosedProject</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_0_Revenue</targetReference>
            </connector>
            <label>Closed Project</label>
        </rules>
        <rules>
            <name>REV_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CasesLoop.REV_for_Flow__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>FormulaCalculatedREV</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ClosedProject</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Revenue</targetReference>
            </connector>
            <label>REV Changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Find_a_Case</name>
        <label>Find a Case?</label>
        <locationX>537</locationX>
        <locationY>114</locationY>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Yes_found_Case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CaseRecord</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lookup_CaseProject</targetReference>
            </connector>
            <label>Yes found Case</label>
        </rules>
    </decisions>
    <decisions>
        <name>Find_a_Project</name>
        <label>Find a Project?</label>
        <locationX>535</locationX>
        <locationY>321</locationY>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>YesProject</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RelatedCaseProject_Collection</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ProjectRecord</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_the_Status_Closed</targetReference>
            </connector>
            <label>Yes Project</label>
        </rules>
    </decisions>
    <decisions>
        <name>Find_anything</name>
        <label>Find anything?</label>
        <locationX>685</locationX>
        <locationY>237</locationY>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Yup</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RelatedCaseProject_Collection</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Status_and_Update</targetReference>
            </connector>
            <label>Yup</label>
        </rules>
        <rules>
            <name>No</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RelatedCaseProject_Collection</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Zero_out_revenue_no_project</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_REV_changed</name>
        <label>Has REV changed and other things!?</label>
        <locationX>918</locationX>
        <locationY>27</locationY>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>yes_changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FormulaCalculatedREV</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>CaseRecord.REV_for_Flow__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>CaseRecord.Bug_Server__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Jira</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>CaseRecord.Product_Line__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Media Software</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Case_with_Revenue</targetReference>
            </connector>
            <label>yes changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Rev_Req_Set</name>
        <label>Is Rev Req Set?</label>
        <locationX>1224</locationX>
        <locationY>31</locationY>
        <defaultConnector>
            <targetReference>Capture_Revenue</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Yes_Rev_Req</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>LoopProjects.Field_Rev_Rec_90_Days_Rev_100K__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Rev_Req_Status_to_True</targetReference>
            </connector>
            <label>Yes Rev Req</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_the_Status_Closed</name>
        <label>Is the Status Closed?</label>
        <locationX>399</locationX>
        <locationY>423</locationY>
        <defaultConnector>
            <targetReference>Capture_Project_Value</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>Yes_Status_Closed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ProjectRecord.Project_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ProjectRecord.Project_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancelled</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_revenue_to_0_if_closed</targetReference>
            </connector>
            <label>Yes Status Closed</label>
        </rules>
    </decisions>
    <formulas>
        <name>FormulaCalculatedREV</name>
        <dataType>Number</dataType>
        <expression>IF ( AND( {!RevenueToSet} &gt;= 1, {!RevenueToSet} &lt;= 250000 ), 1, 
IF ( AND( {!RevenueToSet} &gt;=250001, {!RevenueToSet} &lt;= 500000 ), 2, 
IF ( AND( {!RevenueToSet} &gt;= 500001, {!RevenueToSet} &lt;=750000 ), 3, 
IF ( AND( {!RevenueToSet} &gt;= 750001, {!RevenueToSet} &lt;= 1000000 ), 4,
IF ( {!RevenueToSet} &gt;= 1000001, 5, 0
))))) + IF ({!RevReqStatus}, 10, 0)</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>GetUser</name>
        <dataType>String</dataType>
        <expression>{!$User.Full_Name__c}</expression>
    </formulas>
    <interviewLabel>CaseProject Lookup {!$Flow.CurrentDateTime}</interviewLabel>
    <label>CaseProject Lookup</label>
    <loops>
        <name>Check_Status_and_Update</name>
        <label>Check Status and Update</label>
        <locationX>916</locationX>
        <locationY>318</locationY>
        <assignNextValueToReference>LoopProjects</assignNextValueToReference>
        <collectionReference>RelatedCaseProject_Collection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Project_Status</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Has_REV_changed</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Find_all_the_Cases</name>
        <label>Find all the Cases</label>
        <locationX>701</locationX>
        <locationY>427</locationY>
        <assignNextValueToReference>LOOP_RelatedProjectCase</assignNextValueToReference>
        <collectionReference>RelatedCaseProject_Collection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Lookup_Case_in_Loop</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Look_in_Case_Collection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Look_in_Case_Collection</name>
        <label>Look in Case Collection</label>
        <locationX>701</locationX>
        <locationY>520</locationY>
        <assignNextValueToReference>CasesLoop</assignNextValueToReference>
        <collectionReference>CaseStorageinLoop</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Closed_Case</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Set_Values</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Find_Project</name>
        <label>Find Project</label>
        <locationX>394</locationX>
        <locationY>213</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Lookup_ProjectCase</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ProjectID</elementReference>
            </value>
        </filters>
        <object>MPM4_BASE__Milestone1_Project__c</object>
        <outputReference>ProjectRecord</outputReference>
        <queriedFields>Project_Stage__c</queriedFields>
        <queriedFields>Rev_Rec_90_Days_Rev_100K__c</queriedFields>
        <queriedFields>Total_Open_Revenue__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_Case</name>
        <label>Lookup Case</label>
        <locationX>533</locationX>
        <locationY>26</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Find_a_Case</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </filters>
        <object>Case</object>
        <outputReference>CaseRecord</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Associated_Project_Revenue__c</queriedFields>
        <queriedFields>REV_for_Flow__c</queriedFields>
        <queriedFields>Owners_Email__c</queriedFields>
        <queriedFields>Product_Line__c</queriedFields>
        <queriedFields>Bug_Server__c</queriedFields>
        <queriedFields>Weighting_Last_Updated__c</queriedFields>
        <queriedFields>Weighting_Last_Updated_By__c</queriedFields>
        <queriedFields>Weighting_Last_Updated_Process__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_Case_in_Loop</name>
        <label>Lookup Case in Loop</label>
        <locationX>906</locationX>
        <locationY>429</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Find_all_the_Cases</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>LOOP_RelatedProjectCase.Case__c</elementReference>
            </value>
        </filters>
        <object>Case</object>
        <outputReference>CaseStorageinLoop</outputReference>
        <queriedFields>Status</queriedFields>
        <queriedFields>Id</queriedFields>
        <queriedFields>Weighting_Last_Updated__c</queriedFields>
        <queriedFields>Weighting_Last_Updated_By__c</queriedFields>
        <queriedFields>Weighting_Last_Updated_Process__c</queriedFields>
        <queriedFields>REV_for_Flow__c</queriedFields>
        <queriedFields>Associated_Project_Revenue__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_CaseProject</name>
        <label>Lookup CaseProject</label>
        <locationX>536</locationX>
        <locationY>217</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Find_anything</targetReference>
        </connector>
        <filters>
            <field>Case__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseRecord.Id</elementReference>
            </value>
        </filters>
        <object>Related_Project_Case__c</object>
        <outputReference>RelatedCaseProject_Collection</outputReference>
        <queriedFields>Project_Stage__c</queriedFields>
        <queriedFields>Open_Project_Revenue__c</queriedFields>
        <queriedFields>Project3__c</queriedFields>
        <queriedFields>Case__c</queriedFields>
        <queriedFields>Field_Rev_Rec_90_Days_Rev_100K__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Lookup_ProjectCase</name>
        <label>Lookup ProjectCase</label>
        <locationX>393</locationX>
        <locationY>321</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Find_a_Project</targetReference>
        </connector>
        <filters>
            <field>MPM4_Project__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ProjectID</elementReference>
            </value>
        </filters>
        <filters>
            <field>Case_Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </filters>
        <filters>
            <field>Case_Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Cancelled</stringValue>
            </value>
        </filters>
        <object>Related_Project_Case__c</object>
        <outputReference>RelatedCaseProject_Collection</outputReference>
        <queriedFields>Project_Stage__c</queriedFields>
        <queriedFields>Case__c</queriedFields>
        <queriedFields>Open_Project_Revenue__c</queriedFields>
        <queriedFields>MPM4_Project__c</queriedFields>
        <queriedFields>Field_Rev_Rec_90_Days_Rev_100K__c</queriedFields>
        <queriedFields>Case_Status__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Set_Values</name>
        <label>Set Values</label>
        <locationX>703</locationX>
        <locationY>634</locationY>
        <inputReference>CasesToUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case_with_Revenue</name>
        <label>Update Case with Revenue</label>
        <locationX>686</locationX>
        <locationY>25</locationY>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Associated_Project_Revenue__c</field>
            <value>
                <elementReference>RevenueToSet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>REV_for_Flow__c</field>
            <value>
                <elementReference>FormulaCalculatedREV</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Weighting_Last_Updated_By__c</field>
            <value>
                <elementReference>GetUser</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Weighting_Last_Updated_Process__c</field>
            <value>
                <stringValue>Case</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Weighting_Last_Updated__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <startElementReference>Case_or_Project_Calling</startElementReference>
    <status>Active</status>
    <variables>
        <name>CalculatedProjectRevenue</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>CaseID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>CaseIDStorage</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>CaseRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>CasesLoop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>CaseStorageinLoop</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>CasesToUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>ClosedProject</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>LOOP_RelatedProjectCase</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Related_Project_Case__c</objectType>
    </variables>
    <variables>
        <name>LoopCaseProjects</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>LoopCases</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Related_Project_Case__c</objectType>
    </variables>
    <variables>
        <name>LoopProjects</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Related_Project_Case__c</objectType>
    </variables>
    <variables>
        <name>ProjectID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ProjectRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>MPM4_BASE__Milestone1_Project__c</objectType>
    </variables>
    <variables>
        <name>ProjectValue</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>RelatedCaseProject_Collection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Related_Project_Case__c</objectType>
    </variables>
    <variables>
        <name>RelatedCaseProjectRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Related_Project_Case__c</objectType>
    </variables>
    <variables>
        <name>RevenueToSet</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>RevReqStatus</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
</Flow>
